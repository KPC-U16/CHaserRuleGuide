# U-16プログラミングコンテスト 釧路大会 ルール細則

## 0. 用語集
| 用語 | 意味 |  
| -- | -- |  
| クライアント | CHaserを実施するエージェントのプログラム |  
| ホスト | CHaserを実行するプログラム本体およびソフトウェア群 |  
| サーバー | CHaserが実行されている端末 |  
| エージェント | クライアントの命令によってCHaser内で行動するキャラクター |  
| マップ | CHaserの競技空間 | 
| ターン | 各クライアントがGetReadyと任意のコマンドを<br>それぞれ1つサーバーに送信し一連の行動を実行する時間 |  
| 対戦 | マップ上でエージェントが交互に行動し、ターンを進行すること |
| 試合 | 先攻,後攻を入れ替えて、それぞれ1度ずつ対戦すること |
| 相手 | 対戦者のクライアント及び対戦者本人 | 


## 1. CHaserのルール

### 1-1. 対戦形式の原則
1. 対戦は次の形式を原則とする   
    a. 各クライアントはターン開始時にGetReadyコマンドをサーバーに送信する  
    b. 各クライアントは、規定時間内にGetReady以外のコマンドを1回サーバに送信する  
    c. ホストは各クライアントからのコマンドに応じて別途規定された形式の情報を返答する  
2. 規定時間は全試合で共通とし、別途定める  

### 1-2. 勝利条件
以下の条件のいずれかを達成した場合、勝利となる
ただし、1-4に従い再試合を行うとき、再試合前の試合結果は無効とする
1. 相手のエージェントがいるマスにブロックを配置する
2. 相手のエージェントがいるマスの四方がブロックで封じられる
3. 既定のターン数が経過した時点で相手のエージェントよりも多くのアイテムを獲得する
4. 以下の事由により試合が続行できなくなったとき  
    a. 相手のエージェントが自らブロックのあるマスに移動した場合  
    b. 相手エージェントが自らマップ外に移動した場合    
    c. 相手のクライアントが異常終了した場合  
    d. 相手のクライアントからの応答が一定時間内にない場合  
    e. 対戦相手が明らかに意図的なエラーが起こるプログラムを実行した場合  
    f. その他に審判員および運営が相手のクライアントの異常を認めた場合  
5.  自分が条件1によって勝利する状況で自分が条件2によって敗北する状況になった場合、条件1による勝利とする  

### 1-3. 対戦スコア算定方法
対戦スコアの算出には勝利した方法、または、対戦の終了状況に応じて以下の重みづけを行う  
1. 相手エージェントの自滅 (1-2の条件4のいずれかに該当する場合)    
2. Put勝ち(1-2の条件1及び2)  
3. アイテム数優勢(1-2の条件3)  
前述の順に対戦スコアを算定した結果引き分けである場合、1-4に従い再試合とする  

### 1-4. 再試合の規定
1. 対戦中に以下の状況が発生した場合、再試合を行う  
    a. 1-3の算定の結果、引き分けとなった場合  
    b. 1-2の条件4-dに該当する場合  
    c. サーバーが何らかの理由で試合の続行が不可能となった場合  
    d. 1-2の条件4-e, 4-fに該当し、審判に依り再試合となった場合  
    e. その他、審判員および運営が再試合が必要であると認めた場合  
2. 1-4の条件1-dに該当し、審判に依って再試合を実施しないと判断した場合、エージェントの自滅として扱う 
3. 再試合に関する規定は以下の通りとする  
    a. 新たなマップを使用する  
    b. 前後半戦どちらも実施する  
    c. その他の規定は1-1, 1-2, 1-3に準ずる  


## 2. マップ

### 2-1. マップ作成のルール
1. マップのサイズは15マスx17マス または 21マスx17マス を用いる
2. アイテム数は奇数個であり、1つは必ずマップ中央に配置する
3. マップは点対称の配置で作成する
4. マップ最外周にはブロックを設置しない
5. 各エージェントの出現位置は互いにGetReadyで検知されず、GetReadyで取得する範囲が重ならない地点に配置する
6. 各エージェントの出現位置を0マスとして、上下方向9マス目にはブロックを設置しない  
ただし、マップの領域外の壁は除くものとする

### 2-2. マップ公開
対戦開始までマップは公開しない

### 2-3. 規定ターン数
規定ターン数は、100ターン以上240ターン以下の偶数ターンとする


## 3. クライアントの持ち込み
クライアントを複数個持ち込み、試合毎、あるいは対戦毎に変更してよい  
また、対戦までにクライアントの改修を行ってもよい


## 4. コンピュータの持ち込み
対戦に使用するコンピュータを持ち込んでも良い、その場合は指定のIPアドレス,ネットマスクを各自で設定すること  
なお、対戦中にクライアントを実行しているコンピュータに対して手を触れる、遠隔で操作する等の不正行為は失格とする 


## 5. その他
不測の事態が発生した場合、審判員および運営によって判断する 


## 変更履歴
2021.09.08 初版作成  
2022.09.14 マップ作成のルールを一部改定  
2024.11.11 改訂:[用語集, 勝利条件, クライアントの持ち込み], 新規策定:[対戦形式の原則, 再試合の規定, マップ公開]
